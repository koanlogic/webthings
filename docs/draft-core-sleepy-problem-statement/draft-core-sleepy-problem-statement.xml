<?xml version="1.0" encoding="US-ASCII"?>
<!-- vim: set ts=2 expandtab: -->
<!DOCTYPE rfc SYSTEM "rfc2629.dtd" [
<!ENTITY RFC2119 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.2119.xml">
<!ENTITY I-D.ietf-core-coap SYSTEM "http://xml.resource.org/public/rfc/bibxml3/reference.I-D.draft-ietf-core-coap-12.xml">
]>
<?xml-stylesheet type='text/xsl' href='rfc2629.xslt' ?>
<?rfc strict="yes" ?>
<?rfc toc="yes"?>
<?rfc tocdepth="4"?>
<?rfc symrefs="yes"?>
<?rfc sortrefs="yes" ?>
<?rfc compact="yes" ?>
<?rfc subcompact="yes" ?>
<?rfc comments="yes" ?>
<?rfc inline="yes" ?>
<rfc category="std" docName="draft-akbar-core-sleepy-problem-statement-00" ipr="trust200902">
  <front>
    <title abbrev="Sleepy Problem Statement">
      Sleepy Sensors in CoAP, Problem Statement
    </title>

    <author fullname="Akbar Rahman" initials="A.R." surname="Rahman">
      <organization>InterDigital</organization>
        <address>
        <email>Akbar.Rahman@InterDigital.com</email>
      </address>
    </author>

    <author fullname="Thomas Fossati" initials="T.F." surname="Fossati">
      <organization>KoanLogic</organization>
        <address>
        <email>tho@koanlogic.com</email>
      </address>
    </author>

    <author fullname="Salvatore Loreto" initials="S.L." surname="Loreto">
      <organization>Ericsson</organization>
        <address>
        <email>salvatore.loreto@ericsson.com</email>
      </address>
    </author>

    <author fullname="Matthieu Vial" initials="M.V." surname="Vial">
      <organization>Schneider-Electric</organization>
        <address>
        <email>matthieu.vial@schneider-electric.com</email>
      </address>
    </author>

    <date year="2012" />

    <area>General</area>
    <workgroup>Internet Engineering Task Force</workgroup>

    <keyword>CoAP, Sleepy Sensors</keyword>

    <abstract>
      <t><cref source="TF">TODO</cref></t>
    </abstract>
  </front>

  <middle>

  <!-- **************************************************************** -->

    <section title="Introduction">

      <t><cref source="TF">TODO</cref></t>

  <!-- **************************************************************** -->

      <section title="Requirements Language">
        <t>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <xref target="RFC2119" />.</t>
      </section>

  <!-- **************************************************************** -->

      <section title="Terminology">

        <t><cref source="TF">Glossary of terms</cref></t>

        <t><list style="hanging">
          <t hangText="SEP:">
            TODO
          </t>
          <t hangText="Resource Delegation:">
            TODO
          </t>
        </list></t>

      </section>

  <!-- **************************************************************** -->

      <section title="Motivation">

        <t><cref source="TF">Provide reasons why it is good to have this I-D.</cref></t>

        <t>
          <list style="symbols">
            <t>CoRE Charter</t>
            <t>Requirements I-D (still active?)</t>
            <t>CoAP Specifications</t>
          </list>
        </t>

      </section>

    </section>  <!-- /Introduction -->

  <!-- **************************************************************** -->

    <section title="What is a Sleeping Device">

      <section title="Why Sleeping">
        <t>
          <list style="symbols">
            <t>Reduce power consumption
              <list>
                <t>When battery powered: try to reduce batteries (achieve 5-10 yrs lifetime);</t>
                <t>When harvesting from the environment (i.e. photovoltaic cells, current transformers): try to improve the energy balance;</t>
              </list>
            </t>
            <t>Use power when available in case no energy storage is possible
              <list>
                <t>harvesting from mechanical stress or temperature difference => unpredictable availability;</t>
              </list>
            </t>
          </list>
        </t>
      </section>

  <!-- **************************************************************** -->

      <section title="Different Sleep Modes">
        
  <!-- **************************************************************** -->

        <section title="Always-On Illusion">
          <t>
            <list style="symbols">
              <t>Short sleep (&lt;1sec RDC) are masked by the DLL and are therefore invisible to L3 and upper which get the illusion of the sleepy node of being always on => usual Server Model can be efficiently used</t>
          </list>
         </t>
      
        </section>  <!-- /Always-On Illusion -->

  <!-- **************************************************************** -->

        <section title="Intermittent Presence">
          <t>
            <list style="symbols">
              <t>Long and possibly non pre-determined sleep periods (&gt;1sec, but typically in the order of minutes or hours) => Server Model not working anymore: SEP state must be handled by another always-on entity</t>
            </list>
          </t>
        </section>  <!-- /Intermittent Presence -->

  <!-- **************************************************************** -->

      </section>  <!-- /Different Sleep Modes -->

  <!-- **************************************************************** -->

    </section>    <!-- /What is a Sleeping Device -->

  <!-- **************************************************************** -->

    <section title="SEP Impact on Lower Layers">
      <t>
        <list style="symbols">
          <t>MAC</t>
          <t>Neighbour Discovery</t>
          <t>Network Routing</t>
          <t>Application Layer Protocols (CoAP)</t>
        </list>
      </t>
    </section>  <!-- /SEP Impact on Lower Layers -->

  <!-- **************************************************************** -->

    <section title="Models">

      <section title="Server Model">    
        <t><cref source="TF">Clients pull from SEP</cref></t>
      </section>

  <!-- **************************************************************** -->

      <section title="Observer Model">
        <t><cref source="TF">SEP pushes async notifications to subscribers</cref></t>
        <t>
          <list style="symbols">
            <t>Server Model to Create Observe Relationships (issue: SEP must be awake);</t>
            <t>Maintenance of State at the SEP For Each Observer (memory usage scales linearly);</t>
            <t>Data Flow (N messages for N listeners, not efficient unless one only subscription is maintained by a delegated caching node (Proxy);</t>
          </list>
        </t>
      </section>

  <!-- **************************************************************** -->

      <section title="Intermediary Model">
        <t><cref source="TF">SEP offloads resource handling to delegated intermediary</cref></t>
        <t>
          <list style="symbols">
            <t>Efficient but needs further investigation, possible approaches include:
              <list>
                <t>Extend Proxies Capabilities;</t>
                <t>Extend Resource Directories Capabilities;</t>
                <t>Create New Ad Hoc Architectural Elements;</t>
              </list>
            </t>
          </list>
        </t>
      </section>

    </section>  <!-- /Models -->

  <!-- **************************************************************** -->

    <section title="Assumptions">

      <t>
        <list style="symbols">
          <t>SEP support (a subset of) the REST model</t>
          <t>SEP may or may not maintain soft state</t>
          <t>SEP may or may not have a predictable sleep/awake scheduling</t>
          <t>SEP may have limited connectivity</t>
        </list>
      </t>

    </section>  <!-- /Assumptions -->

  <!-- **************************************************************** -->

    <section title="Objectives">
      <t>
        <list style="symbols">
          <t>Use Client or Observer Model for SEP</t>
          <t>(Secure) delegation of resource handling while retaining ownership</t>
          <t>Minimise SEP configuration needs</t>
          <t>Maximise Integration with base CoRE Features, i.e.:
            <list style="symbols">
              <t>Resource Discovery</t>
              <t>Multicast</t>
              <t>Observe</t>
              <t>Block</t>
            </list>
          </t>
          <t>Reuse already available mechanisms as much as possible</t>
        </list>
      </t>
    </section>  <!-- Objectives -->

  <!-- **************************************************************** -->

<!--
      <figure>
        <artwork align="center"><![CDATA[
    ,-----.
 ,-'       `-.
(             )
 `-.       ,-'
   `--'--'
        ]]></artwork>
      </figure>
-->

    <!-- This PI places the pagebreak correctly (before the section title) in the text output. -->
    <?rfc needLines="8" ?>

    <section anchor="IANA" title="IANA Considerations">
      <t>TODO</t>
    </section>

    <section anchor="Security" title="Security Considerations">
      <t>TODO</t>
    </section>
  </middle>

  <back>
    <references title="Normative References">
      &RFC2119;
      &I-D.ietf-core-coap;
    </references>
  </back>
</rfc>
